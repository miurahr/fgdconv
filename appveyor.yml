environment:
  matrix:
    - PYTHON: "C:\\Python27"
      PYTHON_VERSION: "27"
      PYTHON_ARCH: "32"
      WIN_ARCH: "win32"
    - PYTHON: "C:\\Python35"
      PYTHON_VERSION: "35"
      PYTHON_ARCH: "32"
      WIN_ARCH: "win32"
    - PYTHON: "C:\\Python36"
      PYTHON_VERSION: "36"
      PYTHON_ARCH: "32"
      WIN_ARCH: "win32"
    - PYTHON: "C:\\Python27-x64"
      PYTHON_VERSION: "27"
      PYTHON_ARCH: "64"
      WIN_ARCH: "win_amd64"
    - PYTHON: "C:\\Python35-x64"
      PYTHON_VERSION: "35"
      PYTHON_ARCH: "64"
      WIN_ARCH: "win_amd64"
    - PYTHON: "C:\\Python36-x64"
      PYTHON_VERSION: "36"
      PYTHON_ARCH: "64"
      WIN_ARCH: "win_amd64"

shallow_clone: true

install:
  - 'git lfs install'
  - 'git lfs pull'
  - set GDAL_VERSION=2.1.3
  - set PYTHON_BIN_VER="cp%PYTHON_VERSION%-cp%PYTHON_VERSION%m-%WIN_ARCH%"
  - set GDAL_WHL="test_deps/GDAL-%GDAL_VERSION%-%PYTHON_BIN_VER.whl"
  - 'python -m pip install -U pip'
  - 'python -m pip install wheel'
  - "python -m pip install %GDAL_WHL%"

build: off

test_script:
  - echo test_script
  - python setup.py nosetests

after_test:
  - 'python setup.py bdist_wheel'

artifacts:
  - path: dist\*

deploy: off

